/*
 * Copyright (c) 2004-2008
 *
 * Andrea Bondavalli - University of Florence, Florence, Italy
 * Silvano Chiaradonna, Felicita Di Giandomenico - ISTI-CNR (formerly CNUCE), Pisa, Italy
 * Lanfranco Lopriore, Marco Moretto, Luca Simoncini - University of Pisa, Pisa, Italy
 * 
 *
 *                        All Rights Reserved. 
 *
 * This software has been provided pursuant to an agreement containing 
 * restrictions on its disclosure, duplication, and use.  The software contains
 * proprietary information constituting valuable trade secrets of the
 * copyright holders and is protected as an unpublished work by 
 * copyright law.  The software (or any portion thereof) may not be
 * used for any purpose not contemplated by the agreement.  This notice must be
 * embedded in or attached to all copies, including partial copies, of the
 * software or any revisions thereof. The copyright holders make no 
 * representations about the suitability of this software for any purpose.  
 * It is provided "as is" without express or implied warranty.
 *
 * THE COPYRIGHT HOLDERS DISCLAIM ALL WARRANTIES WITH REGARD TO THIS 
 * SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDERS BE LIABLE FOR ANY SPECIAL, 
 * INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING 
 * FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, 
 * NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION
 * WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 */

(c) 2004

DEEM Simulator Version 1.2 is now available for x86 Linux and ppc MacOSX.

Deem Simulator 1.2 for models generated by the GUI of deem-1.2 (c) ISTI-CNR (version obtained by adapting to deem-1.2 the simulator developed in the master thesis of M. Moretto a.a. 2003-2004, University of Pisa).

To use the simulator please set the two environment variables:
        * DEEM_SIM_MODELS (where are the models to simulate).
	* DEEM_SIM_HOME (where the simulator software is installed, i.e., where are the libraries used to generate the simulator of the model).

To evaluate a model the following steps are required:
- Move in the directory where is the model <model_name> to evaluate.
- Generate the executable simulator ``<model_name>-s.sim'' of the model, by using the command ``deemSimGenerator''.
- Run the generated simulator ``<net_name>-s.sim''.

Alternatively, to evaluate a model, you can use the scripts ``deemsim.sh'' or ``run_deemsim.sh''.
To use these scripts, copy them on your local directory and update the input env variables (if needed).

The script ``run_deemsim.sh'' can be used to evaluate a sequence of batches of simulations for different studies. This script uses the user defined file <deemsimpars.txt>``to pass the input parameters to the model simulator; examples of this file are: ``deemsimpars-base.txt'' (if no sets of values are used to define the variables of the model), ``deemsimpars-1set.txt'' (if in the considered studies 1 variable of the model is defined with a set of values) or ``deemsimpars-2set.txt'' (if in the considered studies 2 variables of the model are defined with a set of values). 
Before to use the script ``run_deemsim.sh'', please verify that the file ``deemsimpars-base.txt'' is correctly defined, by executing interactively the simulator.

Note that only deterministic or exponential timed transitions can be used in the models generated by the GUI of  deem-1.2.
Other distributions of timed transitions can be defined in a model by editing manually the field representing the distribution and the field representing the parameters of the distribution.

IMPORTANT NOTE: 
In the models generated by the GUI of deem-1.2 the following numbers can be used to identify the distribution type of the timed transitions:
* 0 for deterministic (automatically defined by the GUI)
* 1 for exponential (automatically defined by the GUI)
* 5 for beta
In general:
  /* 
     5  = beta,         2  = binomial,          0  = deterministic,
     4  = erlang,       1  = exponential,       6  = gamma,
     7  = geometric,    8  = hyperexponential,  9  = lognormal,
     10 = negative binomial, 11 = normal,       12 = triangular,
     13 = uniform,      14 = weibull,           15 = user defined  */

The parser of the Deem simulator 1.2 converts these numbers in that used in the kernel of the simulator (if needed):
  /* 0  = immediate,
     1  = beta,         2  = binomial,          3  = deterministic,
     4  = erlang,       5  = exponential,       6  = gamma,
     7  = geometric,    8  = hyperexponential,  9  = lognormal,
     10 = negative binomial, 11 = normal,       12 = triangular,
     13 = uniform,      14 = weibull,           15 = user defined  */

The confidence levels:
  (1) 60.00%     (5) 93.33%     (9)  97.50%     (13) 99.00%
  (2) 70.00%     (6) 95.00%     (10) 98.00%     (14) 99.17%
  (3) 80.00%     (7) 96.00%     (11) 98.33%     (15) 99.38%
  (4) 90.00%     (9) 96.67%     (12) 98.75%     (16) 99.50%

